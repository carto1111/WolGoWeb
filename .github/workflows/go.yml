name: Go Build Release

    on:
      push:
        tags:
          - '*'

    jobs:
      build:
        runs-on: ubuntu-latest

        steps:
        - name: Set up Go 1.x
          uses: actions/setup-go@v2
          with:
            go-version: ^1.17

        - name: Checkout code
          uses: actions/checkout@v2

        - name: Build
          run: go build -v ./...

        - name: Upload Release Asset 
          uses: actions/upload-release-asset@v1
          env:
            GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
          with:
            upload_url: ${{ github.event.release.upload_url }}
            asset_path: ./WolGoWeb
            asset_name: WolGoWeb
            asset_content_type: application/octet-stream
